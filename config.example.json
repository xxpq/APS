{
  "servers": {
    "default": {
      "port": 3000,
      "cert": "auto",
      "auth": {
        "groups": ["admins"]
      },
      "dump": "default_server.har"
    },
    "api_server": {
      "port": 8081,
      "cert": "auto"
    },
    "local_dev": {
      "port": 8083
    },
    "openai_specific": {
      "port": 8088,
      "auth": {
        "users": ["dev_user"]
      }
    }
  },
  "proxies": {
    "us_proxies": [
      "http://proxy1.example.com:8080",
      "http://proxy2.example.com:8080"
    ],
    "eu_proxies": [
      "http://eu-proxy1.example.com:9090",
      "http://eu-proxy2.example.com:9090"
    ]
  },
  "auth": {
    "users": {
      "admin_user": {
        "password": "admin_password",
        "groups": ["admins"]
      },
      "dev_user": {
        "password": "dev_password",
        "dump": "dev_user.har"
      },
      "guest_user": {
        "password": "guest_password",
        "groups": ["guests"]
      }
    },
    "groups": {
      "admins": {
        "users": ["admin_user"],
        "dump": "admins_group.har"
      },
      "guests": {
        "users": ["guest_user"]
      }
    }
  },
  "mappings": [
    {
      "comment": "示例1: 简单的 API 转发，需要 admin 组权限",
      "listen": "api_server",
      "from": "https://api.example.com/v1*",
      "to": "https://backend.example.com/api/v1*",
      "proxy": "us_proxies",
      "auth": {
        "groups": ["admins"]
      },
      "dump": "api_example.har"
    },
    {
      "comment": "示例2: 绑定到多个监听服务，dev_user 或 guest 组有权限",
      "listen": ["default", "api_server"],
      "from": "https://multi.example.com/*",
      "to": "https://backend.multi.com/*",
      "proxy": ["us_proxies", "eu_proxies"],
      "auth": {
        "users": ["dev_user"],
        "groups": ["guests"]
      }
    },
    {
      "comment": "示例3: 本地静态文件服务，无需认证",
      "listen": "local_dev",
      "from": "/static/*",
      "local": "./static/*"
    },
    {
      "comment": "示例4: OpenAI 请求转发，只有 dev_user 有权限",
      "listen": "openai_specific",
      "from": {
        "url": "https://api.openai.com/v1*",
        "headers": {
          "Authorization": "Bearer sk-your-token"
        }
      },
      "to": "https://p-q.p-q.co/v1*",
      "auth": {
        "users": ["dev_user"]
      }
    }
  ]
}